# Command object

1) интерфейс пользователя должен быть отделен от логики (модели) в соответствии с идеологией MVC.
2) интерфейс пользователя генерирует команды для выполнения моделью.
3) структура команды определяется в проекте **gdmn-nlp-agent**.
4) соответственно, каждый логический модуль проекта должен сообщать миру о своём устройстве в терминах ER модели.

У нас уже есть пример обращения к БД:

                    ER модель данных
                           ↓
    естественный язык → команда → выполнение
                           ↑
          глаголы, которые понимает подсистема            


Работа остальных модулей должна выглядеть аналогично.

Например, ER модель модуля безопасности включает сущности: Учетная запись пользователя, Учетная запись компании, Группа пользователей и т.п. Данный модуль понимает глаголы: Залогиниться, Выйти, Сменить пароль и т.п.

ER модель пользовательского интерфейса включает сущности Экран, Таблица, Диалог, Поле и т.п. Модуль управляется глаголами Покажи, Выдели, Введи и т.п.

Экспериментальная структура объекта команды для запросов к базе данных определена в **gdmn-nlp-agent**:

````typescript
export type Action = 'SHOW' | 'DELETE';

export enum Determiner {
  All = 0
};

export type Operator = 'EQ' | 'HASROOT';

export interface IAttrCondition {
  attr: Attribute;
  op: Operator;
  value: string;
}

export interface ICommandObject {
  determiner: Determiner;
  entity: Entity;
  conditions: IAttrCondition[];
}

export interface ICommand {
  action: Action;
  objects?: ICommandObject[]
}
````

